<!DOCTYPE html>
<html
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout.html}"
    >
    <head>
        <title>QuizzesSystem</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    </head>
    <body>
        <div layout:fragment="content" class="container">
            <h2>Categories</h2>
            <table class="table table-striped" border="1">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Description</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr th:if="${categoryList.isEmpty()}">
                    <td colspan="4">
                    <h5>No Data to Show</h5>
                    </td>
                </tr>
                <tr
                    th:each="category: ${categoryList}"
                    th:unless="${categoryList.isEmpty()}"
                >
                    <td th:text="${category.name}"></td>
                    <td th:text="${category.categoryDescription}"></td>
                    <td>
                    <a
                        th:href="@{/editCategory/{id}(id=${category.id})}"
                        class="btn btn-secondary"
                        >Edit</a
                    >
                    <a
                        href="#"
                        th:href="@{/deleteCategory/{id}(id=${category.id})}"
                        class="btn btn-danger"
                        onclick="return confirm('Are you sure you want to delete this category?');"
                        >Delete</a
                    >
                    </td>
                </tr>
                </tbody>
            </table>
            <div>
                <div sec:authorize="hasAuthority('TEACHER')">
                    <a href="/addCategory" class="btn btn-primary">Add a category</a>
                </div>
                <a href="/" class="btn btn-secondary">Back to quizzes</a>
            </div>
            <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
            <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        </div>
    </body>
</html>
